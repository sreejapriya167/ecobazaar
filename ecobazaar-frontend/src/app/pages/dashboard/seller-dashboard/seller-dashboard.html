<div class="dashboard-container animate-in">
  
  <header class="dash-header glass-panel">
    <div class="header-content">
      <h1>Hello, {{ name }} ðŸ‘‹</h1>
      <p class="role-badge">Current Role: <strong>SELLER</strong></p>
    </div>
    <div class="header-actions">
<button class="glass-btn btn-yellow" type="button" (click)="openModal()">+ Add New Product</button>    </div>
  </header>

  <div class="seller-stats-row">
    <div class="stat-box">
      <label>Total Products</label>
      <div class="val">{{ totalProducts }}</div>
    </div>
    
    <div class="stat-box">
      <label>Eco Certified</label>
      <div class="val text-green">{{ ecoCertifiedCount }}</div>
    </div>
    
    <div class="stat-box">
      <label>Pending Certification</label>
      <div class="val text-orange">{{ pendingCount }}</div>
    </div>
    
    <div class="stat-box">
      <label>Total Orders</label>
      <div class="val text-purple">{{ totalOrders }}</div>
    </div>
    
    <div class="stat-box">
      <label>Revenue (Lifetime)</label>
      <div class="val text-gold">â‚¹{{ revenue }}</div>
    </div>
  </div>

  <div class="seller-bottom-grid">
    
    <div class="chart-panel glass-panel">
      <div class="panel-head">
        <h3>Revenue (Last 14 Days)</h3>
        <span>Daily trend</span>
      </div>
      <div style="height: 200px; display:flex; align-items:flex-end; gap:10px; padding-top:20px;">
            <div style="width:30px; height:40%; background:#e0e0e0; border-radius:5px;"></div>
            <div style="width:30px; height:60%; background:#e0e0e0; border-radius:5px;"></div>
            <div style="width:30px; height:30%; background:#e0e0e0; border-radius:5px;"></div>
            <div style="width:30px; height:80%; background:#29a36a; border-radius:5px;"></div>
            <div style="width:30px; height:50%; background:#e0e0e0; border-radius:5px;"></div>
      </div>
    </div>

    <div class="badge-panel glass-panel">
      <p>Your Seller Badge</p>
      <h2 class="badge-title">New Seller</h2>
      <p class="sub">Keep selling eco-friendly products to level up!</p>
    </div>

  </div>

</div>

<!-- ðŸ‘‡ ADD THIS MODAL AT THE BOTTOM ðŸ‘‡ -->
<div class="modal-backdrop" *ngIf="showModal" (click)="closeModal()">
  <div class="modal-content glass-panel" (click)="$event.stopPropagation()">
    
    <div class="modal-header">
      <h2>Add New Product ðŸŒ±</h2>
      <p>Product will be listed after Admin Approval.</p>
    </div>

    <form (ngSubmit)="onSubmit()" #f="ngForm">
      
      <div class="form-group">
        <label>Product Name</label>
        <input type="text" name="name" [(ngModel)]="newProduct.name" required placeholder="e.g. Bamboo Toothbrush">
      </div>

      <div class="form-row">
        <div class="form-group">
          <label>Price (â‚¹)</label>
          <input type="number" name="price" [(ngModel)]="newProduct.price" required placeholder="150">
        </div>
        <div class="form-group">
          <label>Carbon Impact (kg)</label>
          <input type="number" name="carbon" [(ngModel)]="newProduct.carbonImpact" required placeholder="0.5">
        </div>
      </div>

      <div class="form-group">
  <label>Product Image</label>
  <div class="file-upload-wrapper">
    <input type="file" (change)="onFileSelected($event)" accept="image/*" class="file-input">
    
    <img *ngIf="newProduct.imageUrl" [src]="newProduct.imageUrl" class="image-preview">
  </div>
</div>

      <div class="form-group">
        <label>Description</label>
        <textarea name="details" [(ngModel)]="newProduct.details" rows="3" required placeholder="Describe your eco-friendly product..."></textarea>
      </div>

      <!-- Category Dropdown -->
      <div class="form-group">
        <label>Category</label>
        <select name="category" [(ngModel)]="newProduct.category" required>
          <option value="" disabled selected>Select a Category</option>
          <option value="Lifestyle">Lifestyle</option>
          <option value="Groceries">Food</option>
          <option value="Fashion">Fashion</option>
          <option value="Beauty">Beauty</option>
          <option value="Home">Home</option>
          <option value="Kitchen">Kitchen</option>
        </select>
      </div>

      <div class="modal-actions">
        <button type="button" class="glass-btn btn-outline" (click)="closeModal()">Cancel</button>
        <button type="submit" class="glass-btn btn-green" [disabled]="!f.valid || isLoading">
          {{ isLoading ? 'Submitting...' : 'Submit for Approval' }}
        </button>
      </div>

    </form>
  </div>
</div>